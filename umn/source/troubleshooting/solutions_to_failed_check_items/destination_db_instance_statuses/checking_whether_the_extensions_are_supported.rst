:original_name: drs_11_0041.html

.. _drs_11_0041:

Checking Whether the Extensions Are Supported
=============================================

PostgreSQL Synchronization
--------------------------

.. table:: **Table 1** Checking whether the extensions are supported

   +---------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Check Item                            | Whether the extensions are supported                                                                                                                                                                                                      |
   +---------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Description                           | Check whether the source database has plug-ins that are not installed on the destination database.                                                                                                                                        |
   +---------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Failure Cause and Handling Suggestion | Failure cause: Extensions installed in the source database are not supported in the destination database.                                                                                                                                 |
   |                                       |                                                                                                                                                                                                                                           |
   |                                       | Handling suggestion:                                                                                                                                                                                                                      |
   |                                       |                                                                                                                                                                                                                                           |
   |                                       | -  If the source database services do not depend on those extensions, run the following statement to delete the extensions. Replace *plugin_name* with the name of the extension to be deleted.                                           |
   |                                       |                                                                                                                                                                                                                                           |
   |                                       |    .. code:: text                                                                                                                                                                                                                         |
   |                                       |                                                                                                                                                                                                                                           |
   |                                       |       drop extension plugin_name;                                                                                                                                                                                                         |
   |                                       |                                                                                                                                                                                                                                           |
   |                                       | -  Alternatively, use a destination database that supports these extensions.                                                                                                                                                              |
   +---------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |                                       | Failure cause: The source database has extensions that contain tables as members.                                                                                                                                                         |
   |                                       |                                                                                                                                                                                                                                           |
   |                                       | Handling suggestion: Check whether the source database extensions contain metadata generated after the extensions are created. If yes, use the dedicated syntax of the extension to rebuild the metadata after the migration is complete. |
   +---------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |                                       | Failure cause: The destination database user does not have the permission to create extensions.                                                                                                                                           |
   |                                       |                                                                                                                                                                                                                                           |
   |                                       | Handling suggestion: Grant the permission to the user in the destination database as user root. Run the following SQL statements (replace *username* with the destination database username):                                             |
   |                                       |                                                                                                                                                                                                                                           |
   |                                       | .. code:: text                                                                                                                                                                                                                            |
   |                                       |                                                                                                                                                                                                                                           |
   |                                       |    alter user username inherit;                                                                                                                                                                                                           |
   |                                       |    grant root to username;                                                                                                                                                                                                                |
   +---------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |                                       | Failure cause: The extension version supported by the destination database is earlier than that installed in the source database.                                                                                                         |
   |                                       |                                                                                                                                                                                                                                           |
   |                                       | Handling suggestion: Use the destination database that supports extensions of a later version (not earlier than the source database extension version) and create a synchronization task again.                                           |
   +---------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
